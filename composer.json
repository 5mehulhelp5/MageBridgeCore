{
    "name": "akunzai/magebridgecore",
    "description": "MageBridge for Joomla!",
    "type": "project",
    "license": "GPL-2.0-or-later",
    "authors": [
        {
            "name": "Charley Wu",
            "email": "akunzai@gmail.com"
        },
        {
            "name": "Jisse Reitsma (Yireo)",
            "email": "jisse@yireo.com"
        }
    ],
    "config": {
        "allow-plugins": {
            "magento-hackathon/magento-composer-installer": true
        },
        "preferred-install": "dist",
        "sort-packages": true
    },
    "repositories": [
        {
            "type": "package",
            "package": {
                "name": "joomla/joomla-cms",
                "version": "3.10.11",
                "dist": {
                    "url": "https://github.com/joomla/joomla-cms/releases/download/3.10.11/Joomla_3.10.11-Stable-Full_Package.zip",
                    "type": "zip"
                },
                "source": {
                    "url": "https://github.com/joomla/joomla-cms.git",
                    "type": "git",
                    "reference": "tags/3.10.11"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "akunzai/joomla-stubs",
				"version": "master",
				"source": {
					"url": "https://github.com/akunzai/joomla-stubs.git",
					"type": "git",
					"reference": "master"
				}
            }
        }
    ],
    "require": {
        "php": ">=7.4.0",
        "magento-hackathon/magento-composer-installer": "^4.0"
    },
    "require-dev": {
        "akunzai/joomla-stubs": "dev-master",
        "friendsofphp/php-cs-fixer": "^3.12",
        "joomla/joomla-cms": "3.10.11",
        "openmage/magento-lts": "^19.4",
        "phpstan/phpstan": "^1.8"
    },
    "extra": {
        "magento-root-dir": "vendor/openmage/magento-lts"
    },
    "prefer-stable": true,
    "scripts": {
        "lint": [
            "php -v",
            "! find ./joomla -type f -name '*.php' -exec php -d display_errors=1 -d error_reporting=-1 -l {} \\; 2>&1 | grep -v ^'No syntax errors'",
            "! find ./magento -type f -name '*.php' -exec php -d display_errors=1 -d error_reporting=-1 -l {} \\; 2>&1 | grep -v ^'No syntax errors'",
            "php-cs-fixer fix --diff --dry-run"
        ],
        "fix": [
            "php-cs-fixer -- fix"
        ],
        "phpstan": [
            "phpstan analyse"
        ],
        "phpstan-baseline": [
            "phpstan analyse --generate-baseline"
        ],
        "build": [
            "php ./bundle.php ./joomla/libraries/yireo/yireo.xml ./build/lib_yireo.zip",
            "php ./bundle.php ./joomla/com_magebridge.xml ./joomla/packages/com_magebridge.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_block/mod_magebridge_block.xml ./joomla/packages/mod_magebridge_block.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_cart/mod_magebridge_cart.xml ./joomla/packages/mod_magebridge_cart.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_cms/mod_magebridge_cms.xml ./joomla/packages/mod_magebridge_cms.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_login/mod_magebridge_login.xml ./joomla/packages/mod_magebridge_login.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_menu/mod_magebridge_menu.xml ./joomla/packages/mod_magebridge_menu.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_newsletter/mod_magebridge_newsletter.xml ./joomla/packages/mod_magebridge_newsletter.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_progress/mod_magebridge_progress.xml ./joomla/packages/mod_magebridge_progress.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_switcher/mod_magebridge_switcher.xml ./joomla/packages/mod_magebridge_switcher.zip",
            "php ./bundle.php ./joomla/modules/mod_magebridge_widget/mod_magebridge_widget.xml ./joomla/packages/mod_magebridge_widget.zip",
            "php ./bundle.php ./joomla/plugins/authentication/magebridge/magebridge.xml ./joomla/packages/plg_authentication_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/community/magebridge/magebridge.xml ./joomla/packages/plg_community_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/content/magebridge/magebridge.xml ./joomla/packages/plg_content_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/finder/magebridge/magebridge.xml ./joomla/packages/plg_finder_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/magebridge/magebridge/magebridge.xml ./joomla/packages/plg_magebridge_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/magebridgenewsletter/example/example.xml ./joomla/packages/plg_magebridgenewsletter_example.zip",
            "php ./bundle.php ./joomla/plugins/magebridgeproduct/example/example.xml ./joomla/packages/plg_magebridgeproduct_example.zip",
            "php ./bundle.php ./joomla/plugins/magebridgestore/example/example.xml ./joomla/packages/plg_magebridgestore_example.zip",
            "php ./bundle.php ./joomla/plugins/magebridgestore/falang/falang.xml ./joomla/packages/plg_magebridgestore_falang.zip",
            "php ./bundle.php ./joomla/plugins/magebridgestore/joomfish/joomfish.xml ./joomla/packages/plg_magebridgestore_joomfish.zip",
            "php ./bundle.php ./joomla/plugins/magebridgestore/joomla/joomla.xml ./joomla/packages/plg_magebridgestore_joomla.zip",
            "php ./bundle.php ./joomla/plugins/magebridgestore/nooku/nooku.xml ./joomla/packages/plg_magebridgestore_nooku.zip",
            "php ./bundle.php ./joomla/plugins/magento/magebridge/magebridge.xml ./joomla/packages/plg_magento_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/search/magebridge/magebridge.xml ./joomla/packages/plg_search_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridge/magebridge.xml ./joomla/packages/plg_system_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridgepositions/magebridgepositions.xml ./joomla/packages/plg_system_magebridgepositions.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridgepre/magebridgepre.xml ./joomla/packages/plg_system_magebridgepre.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridgert/magebridgert.xml ./joomla/packages/plg_system_magebridgert.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridgesample/magebridgesample.xml ./joomla/packages/plg_system_magebridgesample.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridget3/magebridget3.xml ./joomla/packages/plg_system_magebridget3.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridgeyoo/magebridgeyoo.xml ./joomla/packages/plg_system_magebridgeyoo.zip",
            "php ./bundle.php ./joomla/plugins/system/magebridgezoo/magebridgezoo.xml ./joomla/packages/plg_system_magebridgezoo.zip",
            "php ./bundle.php ./joomla/plugins/user/magebridge/magebridge.xml ./joomla/packages/plg_user_magebridge.zip",
            "php ./bundle.php ./joomla/plugins/user/magebridgefirstlast/magebridgefirstlast.xml ./joomla/packages/plg_user_magebridgefirstlast.zip",
            "php ./bundle.php ./joomla/templates/magebridge_root/templateDetails.xml ./joomla/packages/tpl_magebridge_root.zip",
            "php ./bundle.php ./joomla/pkg_magebridge.xml ./build/pkg_magebridge.zip",
            "rm -rf ./joomla/packages"
        ]
    }
}